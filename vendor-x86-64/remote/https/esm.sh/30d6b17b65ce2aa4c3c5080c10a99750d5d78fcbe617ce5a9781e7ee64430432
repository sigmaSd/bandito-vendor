/* esm.sh - esbuild bundle(@preact/signals@1.2.2) denonext production */
import{Component as y,options as v,isValidElement as S}from"preact";import{useMemo as c,useRef as h,useEffect as k}from"preact/hooks";import{Signal as m,computed as b,signal as g,effect as p}from"@preact/signals-core";import{Signal as M,batch as N,computed as O,effect as P,signal as R,untracked as T}from"@preact/signals-core";function u(i,t){v[i]=t.bind(null,v[i]||(()=>{}))}var l,a;function _(i){a&&a(),a=i&&i.S()}function $({data:i}){let t=E(i);t.value=i;let n=c(()=>{let e=this.__v;for(;e=e.__;)if(e.__c){e.__c.__$f|=4;break}return this.__$u.c=()=>{var r;!S(n.peek())&&((r=this.base)==null?void 0:r.nodeType)===3?this.base.data=n.peek():(this.__$f|=1,this.setState({}))},b(()=>{let r=t.value.value;return r===0?0:r===!0?"":r||""})},[]);return n.value}$.displayName="_st";Object.defineProperties(m.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:$},props:{configurable:!0,get(){return{data:this}}},__b:{configurable:!0,value:1}});u("__b",(i,t)=>{if(typeof t.type=="string"){let n,e=t.props;for(let r in e){if(r==="children")continue;let o=e[r];o instanceof m&&(n||(t.__np=n={}),n[r]=o,e[r]=o.peek())}}i(t)});u("__r",(i,t)=>{_();let n,e=t.__c;e&&(e.__$f&=-2,n=e.__$u,n===void 0&&(e.__$u=n=function(r){let o;return p(function(){o=this}),o.c=()=>{e.__$f|=1,e.setState({})},o}())),l=e,_(n),i(t)});u("__e",(i,t,n,e)=>{_(),l=void 0,i(t,n,e)});u("diffed",(i,t)=>{_(),l=void 0;let n;if(typeof t.type=="string"&&(n=t.__e)){let e=t.__np,r=t.props;if(e){let o=n.U;if(o)for(let f in o){let s=o[f];s!==void 0&&!(f in e)&&(s.d(),o[f]=void 0)}else o={},n.U=o;for(let f in e){let s=o[f],d=e[f];s===void 0?(s=U(n,f,d,r),o[f]=s):s.o(d,r)}}}i(t)});function U(i,t,n,e){let r=t in i&&i.ownerSVGElement===void 0,o=g(n);return{o:(f,s)=>{o.value=f,e=s},d:p(()=>{let f=o.value.value;e[t]!==f&&(e[t]=f,r?i[t]=f:f?i.setAttribute(t,f):i.removeAttribute(t))})}}u("unmount",(i,t)=>{if(typeof t.type=="string"){let n=t.__e;if(n){let e=n.U;if(e){n.U=void 0;for(let r in e){let o=e[r];o&&o.d()}}}}else{let n=t.__c;if(n){let e=n.__$u;e&&(n.__$u=void 0,e.d())}}i(t)});u("__h",(i,t,n,e)=>{(e<3||e===9)&&(t.__$f|=2),i(t,n,e)});y.prototype.shouldComponentUpdate=function(i,t){let n=this.__$u;if(!(n&&n.s!==void 0||4&this.__$f)||3&this.__$f)return!0;for(let e in t)return!0;for(let e in i)if(e!=="__source"&&i[e]!==this.props[e])return!0;for(let e in this.props)if(!(e in i))return!0;return!1};function E(i){return c(()=>g(i),[])}function A(i){let t=h(i);return t.current=i,l.__$f|=4,c(()=>b(()=>t.current()),[])}function V(i){let t=h(i);t.current=i,k(()=>p(()=>t.current()),[])}export{M as Signal,N as batch,O as computed,P as effect,R as signal,T as untracked,A as useComputed,E as useSignal,V as useSignalEffect};
//# sourceMappingURL=signals.mjs.map
// denoCacheMetadata={"headers":{"x-content-source":"esm-worker","server":"cloudflare","access-control-allow-origin":"*","content-type":"application/javascript; charset=utf-8","cache-control":"public, max-age=31536000, immutable","access-control-allow-methods":"*","cf-ray":"8ce8821a1b505bc9-TUN","date":"Sun, 06 Oct 2024 20:47:43 GMT","vary":"Origin, Accept-Encoding"},"url":"https://esm.sh/v135/@preact/signals@1.2.2/X-ZS8q/denonext/signals.mjs","time":1728247663}